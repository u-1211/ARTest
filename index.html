<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>ARでイラストだすよ～</title>

    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.2/aframe/build/aframe-ar.js"></script>
</head>

<body style="margin : 0px; overflow: hidden;">
    <a-scene embedded arjs="debugUIEnabled:false;">
        <a-entity camera></a-entity>

        <!-- マーカーの設定 -->
        <a-marker type="pattern" url="img/pattern_simple_qrcode.patt">
            <!-- イラストを表示 -->
            <a-image id="changingImage" width="1" height="1" position="-20 0 0" rotation="0 0 0" src="img/test1.png"></a-image>
        </a-marker>
    </a-scene>

    <script>
        // 画像を次々と切り替えるためのリスト
        let images = ["img/test1.png", "img/test2.png", "img/test3.png"];
        let currentIndex = 0; // 現在のインデックス
        let direction = 1; // 1は前進、-1は後退を意味する
        const imageElement = document.getElementById("changingImage");

        // 一定間隔で画像を切り替える
        setInterval(() => {
            // 次のインデックスを計算
            currentIndex += direction;

            // 最後まで行ったら後退、最初まで行ったら前進に切り替える
            if (currentIndex >= images.length) {
                direction = -1; // 後退
                currentIndex = images.length - 2; // 最後の一つ前の画像に戻る
            } else if (currentIndex < 0) {
                direction = 1; // 前進
                currentIndex = 1; // 最初の次の画像に進む
            }

            // 新しい画像をセット
            imageElement.setAttribute('src', images[currentIndex]);
        }, 500); // 2秒ごとに切り替え
    </script>
</body>

</html>
